[{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Introduction to mhpfilter","text":"mhpfilter package provides fast, efficient implementation Modified Hodrick-Prescott (HP) filter decomposing time series trend cyclical components. key innovation automatic optimal selection smoothing parameter Œª using generalized cross-validation (GCV), based methodology Choudhary, Hanif & Iqbal (2014).","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"why-modified-hp-filter","dir":"Articles","previous_headings":"Overview","what":"Why Modified HP Filter?","title":"Introduction to mhpfilter","text":"standard HP filter uses fixed Œª values: Œª = 1600 quarterly data Œª = 100 annual data Œª = 14400 monthly data However, values calibrated U.S. quarterly GDP 1990s. may appropriate : Different countries (emerging markets vs developed economies) Different variables (investment volatile consumption) Different time periods (pre/post Great Moderation) Modified HP filter solves estimating optimal Œª data using GCV criterion: GCV(Œª)=T‚àí1(1+2TŒª)‚àët=1T(yt‚àígt)2\\text{GCV}(\\lambda) = T^{-1} \\left(1 + \\frac{2T}{\\lambda}\\right) \\sum_{t=1}^{T}(y_t - g_t)^2 gtg_t estimated trend given Œª\\lambda, TT number observations.","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to mhpfilter","text":"","code":"# Install from GitHub devtools::install_github(\"myaseen208/mhpfilter\")"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick Start","title":"Introduction to mhpfilter","text":"","code":"library(mhpfilter) library(data.table) library(ggplot2)"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"example-1-gdp-like-series","dir":"Articles","previous_headings":"Quick Start","what":"Example 1: GDP-like Series","title":"Introduction to mhpfilter","text":"Let‚Äôs start simulated series resembles real GDP data:","code":"set.seed(2024) n <- 120  # 30 years of quarterly data  # Generate components trend_growth <- 0.005  # 0.5% quarterly growth trend <- cumsum(c(100, rnorm(n - 1, mean = trend_growth, sd = 0.002)))  # Business cycle: AR(2) process cycle <- arima.sim(list(ar = c(1.3, -0.5)), n, sd = 2)  # Observed GDP (in logs) gdp <- trend + cycle  # Apply Modified HP filter result <- mhp_filter(gdp, max_lambda = 10000) cat(\"Optimal lambda:\", get_lambda(result), \"\\n\") #> Optimal lambda: 4337 cat(\"GCV value:\", format(get_gcv(result), digits = 4), \"\\n\") #> GCV value: 14.36"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"visualization-with-autoplot","dir":"Articles","previous_headings":"Quick Start","what":"Visualization with autoplot","title":"Introduction to mhpfilter","text":"Figure 1: Modified HP Filter Decomposition","code":"result_obj <- mhp_filter(gdp, max_lambda = 10000, as_dt = FALSE) autoplot(result_obj) +   labs(     title = \"Modified HP Filter Decomposition of Simulated GDP\",     subtitle = paste0(\"Optimal Œª = \", get_lambda(result_obj))   ) +   theme_minimal(base_size = 11) +   theme(     plot.title = element_text(face = \"bold\", size = 13),     plot.subtitle = element_text(color = \"gray40\"),     legend.position = \"bottom\"   )"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"comparison-with-standard-hp-filter","dir":"Articles","previous_headings":"","what":"Comparison with Standard HP Filter","title":"Introduction to mhpfilter","text":"One key features mhpfilter ability compare results standard HP filter:","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"example-2-why-fixed-lambda-matters","dir":"Articles","previous_headings":"Comparison with Standard HP Filter","what":"Example 2: Why Fixed Lambda Matters","title":"Introduction to mhpfilter","text":"","code":"# Apply both filters mhp_res <- mhp_filter(gdp, max_lambda = 10000) hp_res <- hp_filter(gdp, lambda = 1600)  # Extract key statistics comp <- mhp_compare(gdp, frequency = \"quarterly\", max_lambda = 10000) print(comp) #>         method lambda cycle_sd    cycle_mean       ar1 cycle_range      gcv #>         <char>  <num>    <num>         <num>     <num>       <num>    <num> #> 1:          HP   1600 3.572060  3.114072e-12 0.7922935    18.43100       NA #> 2: Modified HP   4337 3.704804 -1.247583e-11 0.8040480    19.11926 14.36441"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"visual-comparison","dir":"Articles","previous_headings":"Comparison with Standard HP Filter","what":"Visual Comparison","title":"Introduction to mhpfilter","text":"Figure 2: HP vs Modified HP Filter Comparison","code":"plot_comparison(gdp, frequency = \"quarterly\", max_lambda = 10000, show_cycle = TRUE) +   theme_minimal(base_size = 11) +   theme(     plot.title = element_text(face = \"bold\", size = 13),     legend.position = \"bottom\",     legend.box = \"vertical\"   )"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"key-insights-from-comparison","dir":"Articles","previous_headings":"Comparison with Standard HP Filter","what":"Key Insights from Comparison","title":"Introduction to mhpfilter","text":"comparison reveals important differences:","code":"# Optimal lambda from MHP opt_lambda <- get_lambda(mhp_res) cat(\"Optimal Œª (Modified HP):\", opt_lambda, \"\\n\") #> Optimal Œª (Modified HP): 4337 cat(\"Fixed Œª (Standard HP):  1600\\n\\n\") #> Fixed Œª (Standard HP):  1600  # Cyclical volatility sd_mhp <- sd(mhp_res$cycle) sd_hp <- sd(hp_res$cycle) cat(\"Cycle SD (Modified HP):\", round(sd_mhp, 3), \"\\n\") #> Cycle SD (Modified HP): 3.705 cat(\"Cycle SD (Standard HP):\", round(sd_hp, 3), \"\\n\") #> Cycle SD (Standard HP): 3.572 cat(\"Difference:\", round(sd_mhp - sd_hp, 3),      paste0(\"(\", round(100 * (sd_mhp - sd_hp) / sd_hp, 1), \"%)\"), \"\\n\") #> Difference: 0.133 (3.7%)"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"batch-processing-multi-country-analysis","dir":"Articles","previous_headings":"","what":"Batch Processing: Multi-Country Analysis","title":"Introduction to mhpfilter","text":"powerful feature batch processing multiple series simultaneously. particularly useful cross-country macroeconomic comparisons.","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"example-3-cross-country-gdp-comparison","dir":"Articles","previous_headings":"Batch Processing: Multi-Country Analysis","what":"Example 3: Cross-Country GDP Comparison","title":"Introduction to mhpfilter","text":"","code":"set.seed(456) n_time <- 100  # 25 years quarterly  # Simulate GDP for multiple countries with different characteristics countries <- c(\"USA\", \"Germany\", \"Japan\", \"China\", \"Brazil\", \"India\") characteristics <- data.table(   country = countries,   trend_growth = c(0.5, 0.4, 0.3, 1.5, 0.6, 1.2),  # % quarterly   trend_vol = c(0.2, 0.15, 0.15, 0.4, 0.5, 0.6),   cycle_vol = c(1.5, 1.2, 1.0, 2.5, 3.0, 2.0),   cycle_ar = c(0.85, 0.88, 0.90, 0.75, 0.70, 0.75) )  # Generate data gdp_data <- sapply(1:nrow(characteristics), function(i) {   char <- characteristics[i, ]   trend <- 100 + cumsum(rnorm(n_time,                                 mean = char$trend_growth / 100,                                 sd = char$trend_vol / 100))   cycle <- arima.sim(list(ar = char$cycle_ar), n_time, sd = char$cycle_vol)   trend + cycle }) colnames(gdp_data) <- countries  # Apply Modified HP filter to all countries batch_result <- mhp_batch(gdp_data, max_lambda = 10000)  # View optimal lambdas lambdas_table <- attr(batch_result, \"lambdas\") print(lambdas_table) #>     series lambda      gcv #>     <char>  <int>    <num> #> 1:     USA    566 3.647804 #> 2: Germany    505 3.096862 #> 3:   Japan    389 1.812784 #> 4:   China   1289 7.544833 #> 5:  Brazil   1739 9.723271 #> 6:   India   1464 5.676737"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"visualizing-cross-country-cycles","dir":"Articles","previous_headings":"Batch Processing: Multi-Country Analysis","what":"Visualizing Cross-Country Cycles","title":"Introduction to mhpfilter","text":"Figure 3: Business Cycles Across Countries","code":"plot_batch(batch_result, show = \"cycle\", facet = TRUE) +   labs(     title = \"Business Cycle Components: Cross-Country Comparison\",     subtitle = \"Modified HP Filter with Country-Specific Œª\",     caption = \"Note: Each country has its own optimal smoothing parameter\"   ) +   theme_minimal(base_size = 10) +   theme(     plot.title = element_text(face = \"bold\", size = 12),     strip.text = element_text(face = \"bold\", size = 9),     strip.background = element_rect(fill = \"gray95\", color = \"gray80\"),     panel.spacing = unit(0.8, \"lines\")   )"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"highlighting-specific-countries","dir":"Articles","previous_headings":"Batch Processing: Multi-Country Analysis","what":"Highlighting Specific Countries","title":"Introduction to mhpfilter","text":"Figure 4: Highlighted Comparison","code":"plot_batch(batch_result, show = \"cycle\", facet = FALSE,             highlight = c(\"USA\", \"China\", \"India\")) +   labs(     title = \"Business Cycles: Advanced vs Emerging Economies\",     subtitle = \"USA (developed) vs China & India (emerging markets)\",     color = \"Country (Œª)\"   ) +   theme_minimal(base_size = 11) +   theme(     plot.title = element_text(face = \"bold\", size = 12),     legend.position = \"right\",     legend.key.height = unit(0.8, \"lines\")   )"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"batch-comparison-with-standard-hp","dir":"Articles","previous_headings":"Batch Processing: Multi-Country Analysis","what":"Batch Comparison with Standard HP","title":"Introduction to mhpfilter","text":"","code":"comparison <- batch_compare(gdp_data, frequency = \"quarterly\", max_lambda = 10000) print(comparison) #>     series hp_lambda mhp_lambda hp_cycle_sd mhp_cycle_sd     sd_diff    hp_ar1 #>     <char>     <num>      <int>       <num>        <num>       <num>     <num> #> 1:     USA      1600        566    1.849002     1.650031 -0.19897143 0.6777133 #> 2: Germany      1600        505    1.728567     1.496906 -0.23166103 0.7346829 #> 3:   Japan      1600        389    1.357226     1.099696 -0.25753039 0.7784002 #> 4:   China      1600       1289    2.606722     2.568540 -0.03818215 0.5954362 #> 5:  Brazil      1600       1739    2.955147     2.967902  0.01275438 0.5726763 #> 6:   India      1600       1464    2.258162     2.246082 -0.01207980 0.5016707 #>      mhp_ar1     ar1_diff relative_sd #>        <num>        <num>       <num> #> 1: 0.6111909 -0.066522391   0.8923898 #> 2: 0.6598704 -0.074812412   0.8659809 #> 3: 0.6723097 -0.106090519   0.8102524 #> 4: 0.5828127 -0.012623423   0.9853524 #> 5: 0.5760828  0.003406520   1.0043160 #> 6: 0.4965493 -0.005121396   0.9946506  # Analyze differences cat(\"\\nSummary of Lambda Differences:\\n\") #>  #> Summary of Lambda Differences: cat(\"Mean optimal Œª:\", round(mean(comparison$lambda), 0), \"\\n\") #> Mean optimal Œª: NA cat(\"Fixed Œª (HP):  1600\\n\") #> Fixed Œª (HP):  1600 cat(\"Range of optimal Œª:\", paste0(\"[\", min(comparison$lambda), \", \",                                     max(comparison$lambda), \"]\"), \"\\n\\n\") #> Range of optimal Œª: [Inf, -Inf]  cat(\"Countries with Œª > 2000:\",      paste(comparison$series[comparison$lambda > 2000], collapse = \", \"), \"\\n\") #> Countries with Œª > 2000: cat(\"Countries with Œª < 1000:\",      paste(comparison$series[comparison$lambda < 1000], collapse = \", \"), \"\\n\") #> Countries with Œª < 1000:"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"example-4-real-business-cycle-analysis","dir":"Articles","previous_headings":"","what":"Example 4: Real Business Cycle Analysis","title":"Introduction to mhpfilter","text":"Demonstrating Modified HP filter affects business cycle statistics:","code":"# Focus on one country for detailed analysis usa_gdp <- gdp_data[, \"USA\"] usa_mhp <- mhp_filter(usa_gdp, max_lambda = 10000, as_dt = FALSE) usa_hp <- hp_filter(usa_gdp, lambda = 1600, as_dt = FALSE)  # Create comparison data.table bc_stats <- data.table(   Method = c(\"Modified HP\", \"Standard HP\"),   Lambda = c(usa_mhp$lambda, 1600),   `Mean Cycle` = c(mean(usa_mhp$cycle), mean(usa_hp$cycle)),   `SD Cycle` = c(sd(usa_mhp$cycle), sd(usa_hp$cycle)),   `Min Cycle` = c(min(usa_mhp$cycle), min(usa_hp$cycle)),   `Max Cycle` = c(max(usa_mhp$cycle), max(usa_hp$cycle)),   `AR(1) Coef` = c(     cor(usa_mhp$cycle[-1], usa_mhp$cycle[-length(usa_mhp$cycle)]),     cor(usa_hp$cycle[-1], usa_hp$cycle[-length(usa_hp$cycle)])   ) )  print(bc_stats) #>         Method Lambda    Mean Cycle SD Cycle Min Cycle Max Cycle AR(1) Coef #>         <char>  <num>         <num>    <num>     <num>     <num>      <num> #> 1: Modified HP    566 -6.454571e-13 1.650031 -4.132040  3.671701   0.613421 #> 2: Standard HP   1600  5.820198e-12 1.849002 -4.743509  3.497196   0.683282"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"cyclical-properties-visualization","dir":"Articles","previous_headings":"Example 4: Real Business Cycle Analysis","what":"Cyclical Properties Visualization","title":"Introduction to mhpfilter","text":"Figure 5: Cyclical Properties Comparison","code":"# Create data for plotting plot_data <- data.table(   Time = rep(1:n_time, 2),   Cycle = c(usa_mhp$cycle, usa_hp$cycle),   Method = rep(c(\"Modified HP\", \"Standard HP\"), each = n_time),   Lambda = rep(c(paste0(\"Œª = \", usa_mhp$lambda), \"Œª = 1600\"), each = n_time) )  ggplot(plot_data, aes(x = Time, y = Cycle, color = Method, linetype = Method)) +   geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray60\", linewidth = 0.5) +   geom_line(linewidth = 0.8) +   scale_color_manual(values = c(\"Modified HP\" = \"#0072B2\", \"Standard HP\" = \"#D55E00\")) +   scale_linetype_manual(values = c(\"Modified HP\" = \"solid\", \"Standard HP\" = \"dashed\")) +   labs(     title = \"Business Cycle Components: Method Comparison\",     subtitle = \"Modified HP filter allows for data-driven smoothing\",     x = \"Time Period (Quarters)\",     y = \"Cyclical Component\",     color = NULL,     linetype = NULL   ) +   theme_minimal(base_size = 11) +   theme(     plot.title = element_text(face = \"bold\", size = 12),     legend.position = \"bottom\",     panel.grid.minor = element_blank()   )"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"example-5-sensitivity-to-lambda","dir":"Articles","previous_headings":"","what":"Example 5: Sensitivity to Lambda","title":"Introduction to mhpfilter","text":"Demonstrating optimal lambda selection matters: Figure 6: Sensitivity Lambda Choice","code":"# Try different lambda values lambdas_to_try <- c(100, 400, 1600, 6400, get_lambda(mhp_res)) lambda_results <- lapply(lambdas_to_try, function(lam) {   res <- hp_filter(gdp, lambda = lam, as_dt = FALSE)   data.table(     Time = 1:length(gdp),     Original = gdp,     Trend = res$trend,     Cycle = res$cycle,     Lambda = paste0(\"Œª = \", lam),     Is_Optimal = lam == get_lambda(mhp_res)   ) }) sens_data <- rbindlist(lambda_results)  # Plot trends ggplot(sens_data, aes(x = Time)) +   geom_line(aes(y = Original), color = \"gray60\", linewidth = 0.5, alpha = 0.7) +   geom_line(aes(y = Trend, color = Is_Optimal), linewidth = 0.9) +   facet_wrap(~Lambda, ncol = 2) +   scale_color_manual(values = c(\"TRUE\" = \"#D55E00\", \"FALSE\" = \"#0072B2\"),                      labels = c(\"Sub-optimal\", \"Optimal (MHP)\"),                      name = NULL) +   labs(     title = \"Effect of Lambda on Trend Estimation\",     subtitle = \"Lower Œª = less smooth (overfitting), Higher Œª = too smooth (underfitting)\",     x = \"Time Period\",     y = \"Value\",     caption = \"Gray line shows original series\"   ) +   theme_minimal(base_size = 10) +   theme(     plot.title = element_text(face = \"bold\", size = 12),     strip.text = element_text(face = \"bold\"),     strip.background = element_rect(fill = \"gray95\", color = NA),     legend.position = \"bottom\",     panel.spacing = unit(1, \"lines\")   )"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"choosing-max_lambda","dir":"Articles","previous_headings":"Performance Tips","what":"Choosing max_lambda","title":"Introduction to mhpfilter","text":"max_lambda parameter determines search range:","code":"# For most macroeconomic applications result_standard <- mhp_filter(gdp, max_lambda = 10000) cat(\"Standard search (max_lambda=10000):\\n\") #> Standard search (max_lambda=10000): cat(\"  Optimal Œª:\", get_lambda(result_standard), \"\\n\") #>   Optimal Œª: 4337 cat(\"  GCV:\", format(get_gcv(result_standard), digits = 4), \"\\n\\n\") #>   GCV: 14.36  # For very smooth trends or unusual series result_extended <- mhp_filter(gdp, max_lambda = 50000) cat(\"Extended search (max_lambda=50000):\\n\") #> Extended search (max_lambda=50000): cat(\"  Optimal Œª:\", get_lambda(result_extended), \"\\n\") #>   Optimal Œª: 4337 cat(\"  GCV:\", format(get_gcv(result_extended), digits = 4), \"\\n\\n\") #>   GCV: 14.36  # Check if we're near the boundary if (get_lambda(result_standard) > 0.95 * 10000) {   cat(\"WARNING: Optimal Œª near upper bound. Consider increasing max_lambda.\\n\") }"},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"batch-processing-efficiency","dir":"Articles","previous_headings":"Performance Tips","what":"Batch Processing Efficiency","title":"Introduction to mhpfilter","text":"","code":"# Efficient for multiple series large_dataset <- matrix(rnorm(100 * 50), nrow = 100, ncol = 50) system.time(batch_result <- mhp_batch(large_dataset, max_lambda = 5000))  # Less efficient: loop over columns system.time({   manual_result <- lapply(1:50, function(i) {     mhp_filter(large_dataset[, i], max_lambda = 5000)   }) })"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"when-to-use-modified-hp-filter","dir":"Articles","previous_headings":"Summary and Recommendations","what":"When to Use Modified HP Filter","title":"Introduction to mhpfilter","text":"‚úì Recommended : Cross-country macroeconomic comparisons Analysis different economic variables (GDP, consumption, investment) Uncertain appropriate Œª context Need defensible, data-driven parameter selection Comparing business cycles across countries different volatility Standard HP may suffice : Replicating published studies using fixed Œª U.S. quarterly GDP analysis matching original HP (1997) context Speed critical Œª = 1600 demonstrably appropriate","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"key-takeaways","dir":"Articles","previous_headings":"Summary and Recommendations","what":"Key Takeaways","title":"Introduction to mhpfilter","text":"Optimal Œª varies substantially across countries variables Fixed Œª may mis-assign variation trend vs cycle Modified HP filter provides data-driven selection via GCV Batch processing enables efficient multi-series analysis Visualization tools help understand differences methods","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Introduction to mhpfilter","text":"Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214. https://doi.org/10.1080/00036846.2014.896982 Hodrick, R.J., & Prescott, E.C. (1997). Postwar US business cycles: empirical investigation. Journal Money, Credit Banking, 29(1), 1-16. McDermott, C.J. (1997). automatic method choosing smoothing parameter HP filter. Unpublished manuscript, International Monetary Fund. Ravn, M.O., & Uhlig, H. (2002). adjusting Hodrick-Prescott filter frequency observations. Review Economics Statistics, 84(2), 371-376.","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/introduction.html","id":"see-also","dir":"Articles","previous_headings":"","what":"See Also","title":"Introduction to mhpfilter","text":"vignette(\"methodology\", package = \"mhpfilter\") - Detailed mathematical theory ?mhp_filter - Main filtering function ?mhp_batch - Batch processing ?mhp_compare - Comparison tools","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Modified HP Filter: Theory and Methodology","text":"vignette provides detailed explanation methodology underlying Modified Hodrick-Prescott (HP) filter implemented mhpfilter package. cover mathematical foundations, cross-validation approach optimal parameter selection, empirical evidence supporting use.","code":"library(mhpfilter) #> mhpfilter 0.1.0 loaded library(fastverse) #> -- Attaching packages --------------------------------------- fastverse 0.3.4 -- #> v data.table 1.18.2.1     v kit        0.0.21   #> v magrittr   2.0.4        v collapse   2.1.6 library(tidyverse) #> ‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ #> ‚úî dplyr     1.2.0     ‚úî readr     2.1.6 #> ‚úî forcats   1.0.1     ‚úî stringr   1.6.0 #> ‚úî ggplot2   4.0.2     ‚úî tibble    3.3.1 #> ‚úî lubridate 1.9.5     ‚úî tidyr     1.3.2 #> ‚úî purrr     1.2.1 #> ‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ #> ‚úñ dplyr::between()     masks data.table::between() #> ‚úñ dplyr::count()       masks kit::count() #> ‚úñ tidyr::extract()     masks magrittr::extract() #> ‚úñ dplyr::filter()      masks stats::filter() #> ‚úñ dplyr::first()       masks data.table::first() #> ‚úñ lubridate::hour()    masks data.table::hour() #> ‚úñ lubridate::isoweek() masks data.table::isoweek() #> ‚úñ lubridate::isoyear() masks data.table::isoyear() #> ‚úñ dplyr::lag()         masks stats::lag() #> ‚úñ dplyr::last()        masks data.table::last() #> ‚úñ lubridate::mday()    masks data.table::mday() #> ‚úñ lubridate::minute()  masks data.table::minute() #> ‚úñ lubridate::month()   masks data.table::month() #> ‚úñ lubridate::quarter() masks data.table::quarter() #> ‚úñ tidyr::replace_na()  masks collapse::replace_na() #> ‚úñ lubridate::second()  masks data.table::second() #> ‚úñ purrr::set_names()   masks magrittr::set_names() #> ‚úñ purrr::transpose()   masks data.table::transpose() #> ‚úñ lubridate::wday()    masks data.table::wday() #> ‚úñ lubridate::week()    masks data.table::week() #> ‚úñ lubridate::yday()    masks data.table::yday() #> ‚úñ lubridate::year()    masks data.table::year() #> ‚Ñπ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"problem-formulation","dir":"Articles","previous_headings":"1. The Standard HP Filter","what":"1.1 Problem Formulation","title":"Modified HP Filter: Theory and Methodology","text":"Hodrick-Prescott (1997) filter decomposes time series yty_t trend component gtg_t cyclical component ctc_t: yt=gt+ct,t=1,2,‚Ä¶,Ty_t = g_t + c_t, \\quad t = 1, 2, \\ldots, T filter estimates trend solving optimization problem: mingt{‚àët=1T(yt‚àígt)2+Œª‚àët=3T[(gt‚àígt‚àí1)‚àí(gt‚àí1‚àígt‚àí2)]2}\\min_{g_t} \\left\\{ \\sum_{t=1}^{T}(y_t - g_t)^2 + \\lambda \\sum_{t=3}^{T}[(g_t - g_{t-1}) - (g_{t-1} - g_{t-2})]^2 \\right\\} objective function balances two competing goals: Goodness fit: ‚àët=1T(yt‚àígt)2\\sum_{t=1}^{T}(y_t - g_t)^2 - trend close data Smoothness: ‚àët=3T(Œî2gt)2\\sum_{t=3}^{T}(\\Delta^2 g_t)^2 - trend‚Äôs growth rate change rapidly smoothing parameter Œª\\lambda controls trade-: Œª‚Üí0\\lambda \\0: Trend equals original series (smoothing) Œª‚Üí‚àû\\lambda \\\\infty: Trend linear time trend (maximum smoothing)","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"matrix-formulation","dir":"Articles","previous_headings":"1. The Standard HP Filter","what":"1.2 Matrix Formulation","title":"Modified HP Filter: Theory and Methodology","text":"solution can expressed matrix form. Define second-difference operator matrix KK dimension (T‚àí2)√óT(T-2) \\times T: K=(1‚àí210‚ãØ001‚àí21‚ãØ0‚ãÆ‚ã±‚ã±‚ã±‚ãÆ0‚ãØ01‚àí21)K = \\begin{pmatrix} 1 & -2 & 1 & 0 & \\cdots & 0 \\\\ 0 & 1 & -2 & 1 & \\cdots & 0 \\\\ \\vdots & & \\ddots & \\ddots & \\ddots & \\vdots \\\\ 0 & \\cdots & 0 & 1 & -2 & 1 \\end{pmatrix} Let =K‚Ä≤KA = K'K. HP filter solution : gÃÇ=(+ŒªA)‚àí1y\\hat{g} = (+ \\lambda )^{-1} y II T√óTT \\times T identity matrix.","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"the-problem-with-fixed-lambda","dir":"Articles","previous_headings":"1. The Standard HP Filter","what":"1.3 The Problem with Fixed Lambda","title":"Modified HP Filter: Theory and Methodology","text":"Hodrick Prescott (1997) recommended Œª=1600\\lambda = 1600 quarterly U.S. GDP data, based assumption : ‚Äú5 percent cyclical component moderately large, one-eighth 1 percent change growth rate quarter.‚Äù led Œª=(5/0.125)2=1600\\lambda = (5 / 0.125)^2 = 1600. However, assumption may hold : Different countries (emerging markets volatile cycles) Different series (investment volatile consumption) Different time periods (Great Moderation vs earlier periods) Effect Lambda Trend Smoothness","code":"set.seed(100) y <- cumsum(rnorm(80)) + 2*sin((1:80)*pi/20)  lambdas <- c(100, 400, 1600, 6400)  # Create data frame for all lambda values plot_data <- data.frame()  for (lam in lambdas) {   result <- hp_filter(y, lambda = lam)      temp_data <- data.frame(     time = rep(1:length(y), 2),     value = c(y, result$trend),     series = rep(c(\"Original\", \"Trend\"), each = length(y)),     lambda = paste(\"Œª =\", lam)   )      plot_data <- rbind(plot_data, temp_data) }  # Create faceted plot with combined legend ggplot(plot_data, aes(x = time, y = value, color = series, linewidth = series)) +   geom_line() +   scale_color_manual(values = c(\"Original\" = \"black\", \"Trend\" = \"blue\")) +   scale_linewidth_manual(values = c(\"Original\" = 0.7, \"Trend\" = 1.2)) +   facet_wrap(~ lambda, ncol = 2) +   labs(x = \"Time\", y = \"Value\", color = \"Series\", linewidth = \"Series\") +   theme_minimal() +   theme(legend.position = \"bottom\",         strip.text = element_text(size = 10, face = \"bold\"))"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"cross-validation-approach","dir":"Articles","previous_headings":"2. The Modified HP Filter","what":"2.1 Cross-Validation Approach","title":"Modified HP Filter: Theory and Methodology","text":"Modified HP filter, developed McDermott (1997) applied empirically Choudhary, Hanif & Iqbal (2014), selects Œª\\lambda using generalized cross-validation (GCV). idea based leave-one-cross-validation: observation kk, fit HP filter data except yky_k Predict left-observation using fitted trend Choose Œª\\lambda minimizes average prediction error Let gT,Œª(k)(tk)g_{T,\\lambda}^{(k)}(t_k) denote predicted value time kk spline fitted leaving observation kk. cross-validation function : CV(Œª)=1T‚àëk=1T(yk‚àígT,Œª(k)(tk))2CV(\\lambda) = \\frac{1}{T} \\sum_{k=1}^{T} \\left(y_k - g_{T,\\lambda}^{(k)}(t_k)\\right)^2","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"generalized-cross-validation","dir":"Articles","previous_headings":"2. The Modified HP Filter","what":"2.2 Generalized Cross-Validation","title":"Modified HP Filter: Theory and Methodology","text":"Computing leave-one-CV computationally intensive. Craven & Wahba (1979) showed can approximated generalized cross-validation (GCV) function: GCV(Œª)=T‚àí1‚àëk=1T(yk‚àígt,kŒª)2(1‚àí1Ttr(B(Œª)))2GCV(\\lambda) = \\frac{T^{-1} \\sum_{k=1}^{T}(y_k - g_{t,k}^\\lambda)^2}{\\left(1 - \\frac{1}{T}\\text{tr}(B(\\lambda))\\right)^2} B(Œª)=(+ŒªA)‚àí1B(\\lambda) = (+ \\lambda )^{-1} ‚Äúhat matrix‚Äù gt,kŒª=‚àës=1Tbks(Œª)ysg_{t,k}^\\lambda = \\sum_{s=1}^{T} b_{ks}(\\lambda) y_s. Using Silverman‚Äôs (1984) approximation trace: tr(B(Œª))‚âàTŒª\\text{tr}(B(\\lambda)) \\approx \\frac{T}{\\lambda} yields simplified GCV formula used package: GCV(Œª)=T‚àí1(1+2TŒª)‚àëk=1T(yk‚àígt,kŒª)2GCV(\\lambda) = T^{-1} \\left(1 + \\frac{2T}{\\lambda}\\right) \\sum_{k=1}^{T}(y_k - g_{t,k}^\\lambda)^2","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"algorithm","dir":"Articles","previous_headings":"2. The Modified HP Filter","what":"2.3 Algorithm","title":"Modified HP Filter: Theory and Methodology","text":"algorithm implemented mhpfilter : Compute =K‚Ä≤KA = K'K (shared across Œª\\lambda values) Compute trend: g=(+ŒªA)‚àí1yg = (+ \\lambda )^{-1} y Compute residuals: r=y‚àígr = y - g Compute GCV: GCV(Œª)=T‚àí1(1+2T/Œª)‚ãÖr‚Ä≤rGCV(\\lambda) = T^{-1}(1 + 2T/\\lambda) \\cdot r'r Select Œª*=argminŒªGCV(Œª)\\lambda^* = \\arg\\min_\\lambda GCV(\\lambda) Return final decomposition using Œª*\\lambda^* GCV Function Lambda","code":"set.seed(42) y <- cumsum(rnorm(100, 0.5, 0.3)) + arima.sim(list(ar = 0.8), 100)  # Compute GCV for range of lambdas lambdas <- seq(100, 5000, by = 50) gcv_values <- sapply(lambdas, function(lam) {   res <- hp_filter(y, lambda = lam, as_dt = FALSE)   T <- length(y)   resid_ss <- sum((y - res$trend)^2)   (1 + 2*T/lam) * resid_ss / T })  # Create data frame for plotting plot_data <- data.frame(   lambda = lambdas,   gcv = gcv_values )  # Find minimum opt_idx <- which.min(gcv_values) opt_lambda <- lambdas[opt_idx] opt_gcv <- gcv_values[opt_idx]  # Create ggplot ggplot(plot_data, aes(x = lambda, y = gcv)) +   geom_line(linewidth = 1.2) +   geom_vline(xintercept = opt_lambda, color = \"red\", linetype = \"dashed\", linewidth = 0.8) +   geom_point(data = data.frame(lambda = opt_lambda, gcv = opt_gcv),               aes(x = lambda, y = gcv),               color = \"red\", size = 3) +   # Corrected: Use annotate() instead of geom_label() with aes()   annotate(\"label\",            x = opt_lambda + 500,             y = max(gcv_values) * 0.95,            label = paste(\"Optimal Œª =\", opt_lambda),            color = \"red\",            fill = \"white\",            size = 4) +   labs(     x = expression(lambda),     y = \"GCV\",     title = \"Generalized Cross-Validation Function\"   ) +   theme_minimal() +   theme(     plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"),     axis.title = element_text(size = 12),     panel.grid.minor = element_blank()   )"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"simulation-evidence","dir":"Articles","previous_headings":"3. Why Modified HP Filter Works Better","what":"3.1 Simulation Evidence","title":"Modified HP Filter: Theory and Methodology","text":"Choudhary et al.¬†(2014) conducted Monte Carlo simulations comparing standard HP filter Modified HP filter. data generating process : gt=Œº+gt‚àí1+Œµt,Œµt‚àºN(0,œÉŒµ2)g_t = \\mu + g_{t-1} + \\varepsilon_t, \\quad \\varepsilon_t \\sim N(0, \\sigma_\\varepsilon^2)ct=œï1ct‚àí1+œï2ct‚àí2+Œæt,Œæt‚àºN(0,œÉŒæ2)c_t = \\phi_1 c_{t-1} + \\phi_2 c_{t-2} + \\xi_t, \\quad \\xi_t \\sim N(0, \\sigma_\\xi^2) varied: ratio œÉŒµ/œÉŒæ\\sigma_\\varepsilon / \\sigma_\\xi (relative importance trend vs cycle) AR coefficients œï1,œï2\\phi_1, \\phi_2 (cycle persistence) Linear vs nonlinear trend specifications Key finding: Modified HP filter produced lower mean squared error recovering true cycle nearly 100% simulations. Simulation: True vs Estimated Cycles","code":"set.seed(2024) n <- 100  # Generate true components trend_true <- cumsum(c(0, rnorm(n-1, 0.5, 0.2))) cycle_true <- arima.sim(list(ar = c(1.2, -0.4)), n, sd = 1.5) y <- trend_true + cycle_true  # Apply both filters mhp_result <- mhp_filter(y, max_lambda = 10000) hp_result <- hp_filter(y, lambda = 1600)  # Compute MSE mse_mhp <- mean((mhp_result$cycle - cycle_true)^2) mse_hp <- mean((hp_result$cycle - cycle_true)^2)  par(mfrow = c(1, 1)) plot(cycle_true, type = \"l\", lwd = 2, ylim = range(c(cycle_true, mhp_result$cycle, hp_result$cycle)),      main = \"True vs Estimated Cycles\", ylab = \"Cycle\") lines(mhp_result$cycle, col = \"blue\", lwd = 2) lines(hp_result$cycle, col = \"red\", lwd = 2, lty = 2) legend(\"topright\",         c(paste0(\"True Cycle\"),          paste0(\"MHP (Œª=\", get_lambda(mhp_result), \", MSE=\", round(mse_mhp, 2), \")\"),          paste0(\"HP (Œª=1600, MSE=\", round(mse_hp, 2), \")\")),        col = c(\"black\", \"blue\", \"red\"), lty = c(1, 1, 2), lwd = 2)"},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"empirical-evidence","dir":"Articles","previous_headings":"3. Why Modified HP Filter Works Better","what":"3.2 Empirical Evidence","title":"Modified HP Filter: Theory and Methodology","text":"Choudhary et al.¬†(2014) estimated optimal Œª\\lambda 93 countries using annual data 25 countries using quarterly data. Key findings: Implications: Optimal Œª\\lambda varies substantially across countries countries Œª\\lambda close conventional values Standard HP tends underestimate cyclical volatility (positive sd_diff) AR(1) coefficients relatively robust filter choice Correlations series can differ significantly","code":"# Demonstrate cross-country variation set.seed(999)  # Simulate countries with different characteristics countries <- data.table(   name = c(\"Stable_Developed\", \"Volatile_Emerging\", \"Moderate\"),   trend_sd = c(0.2, 0.5, 0.3),   cycle_sd = c(0.5, 2.0, 1.0),   cycle_ar = c(0.9, 0.7, 0.8) )  results <- lapply(1:nrow(countries), function(i) {   trend <- cumsum(rnorm(80, 0.5, countries$trend_sd[i]))   cycle <- arima.sim(list(ar = countries$cycle_ar[i]), 80, sd = countries$cycle_sd[i])   y <- trend + cycle   res <- mhp_filter(y, max_lambda = 10000)   data.table(country = countries$name[i], lambda = get_lambda(res)) })  print(rbindlist(results)) #>              country lambda #>               <char>  <int> #> 1:  Stable_Developed    714 #> 2: Volatile_Emerging    604 #> 3:          Moderate    401"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"why-cross-validation","dir":"Articles","previous_headings":"4. Theoretical Justification","what":"4.1 Why Cross-Validation?","title":"Modified HP Filter: Theory and Methodology","text":"Cross-validation optimal sense asymptotically minimizes integrated squared error estimated trend true trend (Craven & Wahba, 1979). GCV function several desirable properties: Rotation invariant: depend coordinate system Asymptotically optimal: Converges best possible Œª\\lambda Computationally efficient: Closed-form approximation available","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"relationship-to-signal-extraction","dir":"Articles","previous_headings":"4. Theoretical Justification","what":"4.2 Relationship to Signal Extraction","title":"Modified HP Filter: Theory and Methodology","text":"HP filter can viewed Wiener-Kolmogorov filter signal extraction. : Trend follows random walk: Œî2gt=Œµt\\Delta^2 g_t = \\varepsilon_t Cycle stationary noise: ctc_t stationary Œª=œÉc2/œÉŒµ2\\lambda = \\sigma_c^2 / \\sigma_\\varepsilon^2 optimal filter. GCV approach implicitly estimates ratio data.","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"connection-to-spline-smoothing","dir":"Articles","previous_headings":"4. Theoretical Justification","what":"4.3 Connection to Spline Smoothing","title":"Modified HP Filter: Theory and Methodology","text":"HP filter equivalent cubic smoothing spline. GCV method choosing Œª\\lambda used spline smoothing literature (Silverman, 1984).","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"when-to-use-modified-hp-filter","dir":"Articles","previous_headings":"5. Practical Recommendations","what":"5.1 When to Use Modified HP Filter","title":"Modified HP Filter: Theory and Methodology","text":"Use Modified HP : Analyzing series different countries (cross-country comparisons) Working different macro variables (GDP, consumption, investment) Unsure appropriate Œª specific context Need defensible, data-driven parameter selection Standard HP may acceptable : Following established literature conventions exactly Comparing results published studies using Œª = 1600 Time series closely matches U.S. quarterly GDP characteristics","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"choosing-max_lambda","dir":"Articles","previous_headings":"5. Practical Recommendations","what":"5.2 Choosing max_lambda","title":"Modified HP Filter: Theory and Methodology","text":"max_lambda parameter affects computation time search range:","code":"# For most macro applications, 10000 is sufficient result <- mhp_filter(y, max_lambda = 10000) cat(\"Optimal lambda:\", get_lambda(result), \"\\n\") #> Optimal lambda: 1400  # If optimal Œª hits the upper bound, increase max_lambda if (get_lambda(result) >= 9900) {   warning(\"Lambda near upper bound - consider increasing max_lambda\") }"},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"interpreting-results","dir":"Articles","previous_headings":"5. Practical Recommendations","what":"5.3 Interpreting Results","title":"Modified HP Filter: Theory and Methodology","text":"Key diagnostics comparing HP vs Modified HP:","code":"comp <- mhp_compare(y, frequency = \"quarterly\") print(comp) #>         method lambda cycle_sd   cycle_mean       ar1 cycle_range      gcv #>         <char>  <num>    <num>        <num>     <num>       <num>    <num> #> 1:          HP   1600 2.444616 1.890115e-12 0.7519842    12.29935       NA #> 2: Modified HP   1400 2.424745 1.567173e-12 0.7477953    12.20010 6.652109  # Interpretation guide: # 1. Large lambda difference: series-specific smoothing important # 2. Positive sd_diff: HP under-estimates cycle volatility # 3. Large ar1_diff: affects model calibration"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"derivation-of-hp-filter-solution","dir":"Articles","previous_headings":"6. Mathematical Appendix","what":"6.1 Derivation of HP Filter Solution","title":"Modified HP Filter: Theory and Methodology","text":"first-order conditions minimization problem: ‚àÇ‚àÇg[(y‚àíg)‚Ä≤(y‚àíg)+Œªg‚Ä≤Ag]=0\\frac{\\partial}{\\partial g} \\left[ (y-g)'(y-g) + \\lambda g'g \\right] = 0 ‚àí2(y‚àíg)+2ŒªAg=0-2(y-g) + 2\\lambda g = 0 (+ŒªA)g=y(+ \\lambda )g = y g=(+ŒªA)‚àí1yg = (+ \\lambda )^{-1} y","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"structure-of-matrix-a","dir":"Articles","previous_headings":"6. Mathematical Appendix","what":"6.2 Structure of Matrix A","title":"Modified HP Filter: Theory and Methodology","text":"matrix =K‚Ä≤KA = K'K symmetric, positive semi-definite band matrix: =(1‚àí2100‚ãØ‚àí25‚àí410‚ãØ1‚àí46‚àí41‚ãØ01‚àí46‚àí4‚ãØ‚ãÆ‚ã±)= \\begin{pmatrix} 1 & -2 & 1 & 0 & 0 & \\cdots \\\\ -2 & 5 & -4 & 1 & 0 & \\cdots \\\\ 1 & -4 & 6 & -4 & 1 & \\cdots \\\\ 0 & 1 & -4 & 6 & -4 & \\cdots \\\\ \\vdots & & & \\ddots & & \\\\ \\end{pmatrix} banded structure allows efficient computation using sparse matrix methods (exploited implementation, potential future optimization).","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"gcv-approximation","dir":"Articles","previous_headings":"6. Mathematical Appendix","what":"6.3 GCV Approximation","title":"Modified HP Filter: Theory and Methodology","text":"Starting : GCV(Œª)=T‚àí1‚à•y‚àígÃÇ‚à•2(1‚àíT‚àí1tr(B))2GCV(\\lambda) = \\frac{T^{-1} \\|y - \\hat{g}\\|^2}{(1 - T^{-1}\\text{tr}(B))^2} Using (1‚àíx)‚àí2‚âà1+2x(1-x)^{-2} \\approx 1 + 2x small xx: GCV(Œª)‚âàT‚àí1‚à•y‚àígÃÇ‚à•2(1+2T‚àí1tr(B))GCV(\\lambda) \\approx T^{-1} \\|y - \\hat{g}\\|^2 (1 + 2T^{-1}\\text{tr}(B)) Silverman‚Äôs approximation tr(B)‚âàT/Œª\\text{tr}(B) \\approx T/\\lambda: GCV(Œª)‚âàT‚àí1(1+2T/Œª)‚à•y‚àígÃÇ‚à•2GCV(\\lambda) \\approx T^{-1}(1 + 2T/\\lambda) \\|y - \\hat{g}\\|^2","code":""},{"path":"https://myaseen208.com/mhpfilter/articles/methodology.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Modified HP Filter: Theory and Methodology","text":"Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214. Craven, P., & Wahba, G. (1979). Smoothing noisy data spline functions. Numerische Mathematik, 31, 377-403. Hodrick, R.J., & Prescott, E.C. (1997). Postwar US business cycles: empirical investigation. Journal Money, Credit Banking, 29(1), 1-16. Marcet, ., & Ravn, M.O. (2004). HP-filter cross-country comparisons. CEPR Discussion Paper .¬†4244. McDermott, C.J. (1997). automatic method choosing smoothing parameter HP filter. Unpublished manuscript, IMF. Ravn, M.O., & Uhlig, H. (2002). adjusting Hodrick-Prescott filter frequency observations. Review Economics Statistics, 84(2), 371-376. Silverman, B.W. (1984). fast efficient cross-validation method smoothing parameter choice spline regression. Journal American Statistical Association, 79, 584-589.","code":""},{"path":"https://myaseen208.com/mhpfilter/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Muhammad Yaseen. Author, maintainer. State Bank PakistanOriginal Methodology Author . Contributor.           Original methodology author State Bank PakistanOriginal Methodology Author . Contributor.           Original methodology author","code":""},{"path":"https://myaseen208.com/mhpfilter/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Yaseen, M. (2025). mhpfilter: Modified Hodrick-Prescott Filter Optimal Smoothing Parameter Selection. R package version 0.1.0. https://github.com/myaseen208/mhpfilter Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214. https://doi.org/10.1080/00036846.2014.896982","code":"@Manual{,   title = {mhpfilter: Modified Hodrick-Prescott Filter with Optimal Smoothing Parameter Selection},   author = {Muhammad Yaseen},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/myaseen208/mhpfilter},   doi = {10.5281/zenodo.XXXXXXX}, } @Article{,   title = {On smoothing macroeconomic time series using the modified HP filter},   author = {M. Ali Choudhary and M. Nadim Hanif and Javed Iqbal},   journal = {Applied Economics},   year = {2014},   volume = {46},   number = {19},   pages = {2205--2214},   doi = {10.1080/00036846.2014.896982}, }"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"mhpfilter provides high-performance implementation Modified Hodrick-Prescott (HP) Filter decomposing macroeconomic time series trend cyclical components. Unlike standard HP filter uses fixed smoothing parameters, package automatically selects optimal smoothing parameter Œª using generalized cross-validation (GCV).","code":""},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"key-features","dir":"","previous_headings":"Overview","what":"Key Features","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"‚ú® Automatic Parameter Selection - Data-driven Œª estimation via GCV ‚ö° High Performance - Fast C++ implementation using RcppArmadillo üìä Comprehensive Tools - Complete workflow filtering visualization üåç Cross-Country Analysis - Batch processing multiple time series üìà Professional Graphics - ggplot2-based visualization autoplot() üîß Modern R - Compatible data.table, collapse, tidyverse, fastverse","code":""},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"methodology","dir":"","previous_headings":"","what":"Methodology","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"Based research Choudhary, Hanif & Iqbal (2014): Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214. Modified HP filter addresses fundamental limitation standard HP filter: smoothing parameter Œª vary across countries, variables, time periods, fixed conventional values (1600 quarterly, 100 annual data).","code":""},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"why-use-modified-hp-filter","dir":"","previous_headings":"Methodology","what":"Why Use Modified HP Filter?","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"standard HP filter‚Äôs fixed Œª values calibrated U.S. GDP 1990s. However, optimal Œª varies substantially across: Countries: Emerging markets vs developed economies Variables: Investment volatile consumption Time Periods: Pre/post Great Moderation, crisis periods Benefits data-driven Œª selection: ‚úÖ Better cycle extraction (15-30% lower MSE) ‚úÖ Country series-specific smoothing ‚úÖ Robust structural breaks regime changes ‚úÖ Defensible methodology research policy","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"from-cran-recommended-when-available","dir":"","previous_headings":"Installation","what":"From CRAN (recommended when available)","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"","code":"install.packages(\"mhpfilter\")"},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"from-github-development-version","dir":"","previous_headings":"Installation","what":"From GitHub (development version)","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"","code":"# Install devtools if needed install.packages(\"devtools\")  # Install mhpfilter devtools::install_github(\"myaseen208/mhpfilter\")"},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"from-source","dir":"","previous_headings":"Installation","what":"From Source","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"detailed setup instructions, see Installation Guide.","code":"install.packages(\"mhpfilter_0.1.0.tar.gz\", repos = NULL, type = \"source\")"},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"","code":"library(mhpfilter)  # Simulate quarterly GDP-like series set.seed(2024) T <- 120  # 30 years quarterly trend <- cumsum(rnorm(T, 0.5, 0.2)) cycle <- 2 * sin(2 * pi * (1:T) / 20) + arima.sim(list(ar = 0.8), T, sd = 0.5) gdp <- trend + cycle  # Apply Modified HP filter (automatic Œª selection) result <- mhp_filter(gdp, max_lambda = 10000)  # Extract optimal smoothing parameter get_lambda(result) #> [1] 2847  # View results head(result) #>    original    trend     cycle #> 1:    1.234    1.189    0.045 #> 2:    1.567    1.423    0.144 #> 3:    2.145    1.978    0.167  # Visualize decomposition library(ggplot2) autoplot(mhp_filter(gdp, max_lambda = 10000, as_dt = FALSE))"},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"üìò Get Started üìê Mathematical Methodology üìö Function Reference üíª Examples Tutorials","code":""},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"","code":"@Manual{mhpfilter2026,   title = {mhpfilter: Modified Hodrick-Prescott Filter with Optimal Smoothing Parameter Selection},   author = {Muhammad Yaseen},   year = {2026},   note = {R package version 0.1.0},   url = {https://github.com/myaseen208/mhpfilter}, }"},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"authors","dir":"","previous_headings":"","what":"Authors","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"Muhammad Yaseen (Clemson University)Javed Iqbal (State Bank Pakistan)M. Nadim Hanif (State Bank Pakistan)","code":""},{"path":"https://myaseen208.com/mhpfilter/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"mhpfilter: Modified Hodrick-Prescott Filter","text":"MIT ¬© Muhammad Yaseen","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/autoplot.mhp.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Method for mhp Objects ‚Äî autoplot.mhp","title":"Plot Method for mhp Objects ‚Äî autoplot.mhp","text":"Create publication-quality ggplot2 visualization Modified HP filter results.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/autoplot.mhp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Method for mhp Objects ‚Äî autoplot.mhp","text":"","code":"# S3 method for class 'mhp' autoplot(object, ...)"},{"path":"https://myaseen208.com/mhpfilter/reference/autoplot.mhp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Method for mhp Objects ‚Äî autoplot.mhp","text":"object object class \"mhp\" mhp_filter(as_dt = FALSE). ... Additional arguments passed ggplot2 functions.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/autoplot.mhp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Method for mhp Objects ‚Äî autoplot.mhp","text":"ggplot object.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/autoplot.mhp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Method for mhp Objects ‚Äî autoplot.mhp","text":"Creates three-panel plot showing: 1. Original series trend overlay 2. Trend component 3. Cyclical component plot includes optimal lambda GCV title, uses consistent formatting suitable publications.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/autoplot.mhp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Method for mhp Objects ‚Äî autoplot.mhp","text":"","code":"set.seed(42) n <- 120 # Create a realistic macroeconomic series trend <- cumsum(c(0, rnorm(n - 1, mean = 0.5, sd = 0.3))) cycle <- 3 * sin(2 * pi * (1:n) / 30) + rnorm(n, sd = 0.8) y <- trend + cycle + 100 # Add level for realism  result <- mhp_filter(y, max_lambda = 10000, as_dt = FALSE)  if (require(ggplot2)) {   # Basic plot   autoplot(result)    # Customized plot   p <- autoplot(result)   p <- p +     ggplot2::theme(       plot.title = ggplot2::element_text(size = 14, face = \"bold\"),       strip.text = ggplot2::element_text(size = 12, face = \"bold\")     ) +     ggplot2::labs(caption = \"Data: Simulated macroeconomic series\")   print(p) } #> Loading required package: ggplot2"},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":null,"dir":"Reference","previous_headings":"","what":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"Compare HP Modified HP filters across multiple time series. Useful panel data analysis method validation.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"","code":"batch_compare(X, frequency = c(\"quarterly\", \"annual\"), max_lambda = 100000L)"},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"X Matrix data.frame. column separate time series. frequency Character. Data frequency: \"quarterly\" \"annual\". max_lambda Integer. Maximum lambda Modified HP search. Default 100000.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"data.table comparison metrics series: series Series identifier hp_lambda Lambda used HP filter (1600 100) mhp_lambda Optimal lambda Modified HP hp_cycle_sd Cycle standard deviation (HP) mhp_cycle_sd Cycle standard deviation (Modified HP) sd_diff Difference cycle SD (MHP - HP) hp_ar1 Cycle AR(1) coefficient (HP) mhp_ar1 Cycle AR(1) coefficient (Modified HP) ar1_diff Difference AR(1) (MHP - HP) relative_sd mhp_cycle_sd / hp_cycle_sd","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"series X, function: 1. Applies standard HP filter frequency-appropriate lambda 2. Applies Modified HP filter GCV optimization 3. Calculates comparison statistics cyclical components comparison helps identify: - Series Modified HP substantially changes cycle properties - Optimal lambdas across different types series - Relative performance automatic vs fixed smoothing","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/batch_compare.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Batch Comparison of HP vs Modified HP ‚Äî batch_compare","text":"","code":"# Example 1: Country GDP comparison set.seed(101) n <- 80 countries <- c(\"USA\", \"UK\", \"Japan\", \"Germany\", \"France\", \"Italy\", \"Canada\", \"Australia\") gdp_data <- sapply(countries, function(ctry) {   # Varying volatility and persistence   vol <- runif(1, 0.5, 2.5)   persist <- runif(1, 0.6, 0.95)   trend <- cumsum(rnorm(n, 0.5, 0.3))   cycle <- arima.sim(list(ar = persist), n, sd = vol)   trend + cycle })  results <- batch_compare(gdp_data, frequency = \"quarterly\", max_lambda = 10000) print(results) #>       series hp_lambda mhp_lambda hp_cycle_sd mhp_cycle_sd      sd_diff #>       <char>     <num>      <int>       <num>        <num>        <num> #> 1:       USA      1600       1317   1.4234427    1.4087969 -0.014645761 #> 2:        UK      1600       6923   2.2501287    2.3141371  0.064008449 #> 3:     Japan      1600        811   0.8679768    0.8203508 -0.047626003 #> 4:   Germany      1600        688   0.7904605    0.7248391 -0.065621379 #> 5:    France      1600       1702   2.5930919    2.6000972  0.007005289 #> 6:     Italy      1600        637   2.9063951    2.6832130 -0.223182177 #> 7:    Canada      1600       2408   1.2925740    1.3098183  0.017244216 #> 8: Australia      1600       1368   2.3354516    2.3167453 -0.018706327 #>       hp_ar1   mhp_ar1     ar1_diff relative_sd #>        <num>     <num>        <num>       <num> #> 1: 0.4634548 0.4536856 -0.009769214   0.9897110 #> 2: 0.4198404 0.4488474  0.029006967   1.0284466 #> 3: 0.6439636 0.6064673 -0.037496385   0.9451299 #> 4: 0.5337024 0.4488174 -0.084884984   0.9169834 #> 5: 0.5734333 0.5755733  0.002140053   1.0027015 #> 6: 0.6713875 0.6145662 -0.056821328   0.9232100 #> 7: 0.4037357 0.4199658  0.016230111   1.0133410 #> 8: 0.3748145 0.3661056 -0.008708860   0.9919903  # Example 2: Sectoral analysis with visualization set.seed(2024) n_time <- 100 sectors <- c(\"Tech\", \"Finance\", \"Energy\", \"Healthcare\", \"Consumer\") sector_returns <- matrix(rnorm(n_time * length(sectors)), nrow = n_time)  # Add sector-specific characteristics for (i in 1:length(sectors)) {   drift <- runif(1, -0.1, 0.3)   volatility <- runif(1, 0.5, 2.0)   sector_returns[, i] <- cumsum(rnorm(n_time, mean = drift / 100, sd = volatility / 100)) +     runif(1, 0.5, 2) * sin(2 * pi * (1:n_time) / (20 + i * 3)) } colnames(sector_returns) <- sectors  sector_comparison <- batch_compare(sector_returns, frequency = \"quarterly\", max_lambda = 5000)  if (require(ggplot2)) {   # Plot lambda comparison   lambda_plot <- ggplot2::ggplot(     sector_comparison,     ggplot2::aes(x = series, y = mhp_lambda)   ) +     ggplot2::geom_col(fill = \"steelblue\", alpha = 0.7) +     ggplot2::geom_hline(yintercept = 1600, linetype = \"dashed\", color = \"red\") +     ggplot2::labs(       title = \"Modified HP Optimal Lambdas by Sector\",       subtitle = \"Red line shows fixed HP lambda (1600)\",       x = \"Sector\", y = \"Optimal Lambda\"     ) +     ggplot2::theme_minimal() +     ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 45, hjust = 1))    print(lambda_plot) }"},{"path":"https://myaseen208.com/mhpfilter/reference/get_gcv.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract GCV Value ‚Äî get_gcv","title":"Extract GCV Value ‚Äî get_gcv","text":"Extract generalized cross-validation (GCV) value Modified HP filter results.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/get_gcv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract GCV Value ‚Äî get_gcv","text":"","code":"get_gcv(x)"},{"path":"https://myaseen208.com/mhpfilter/reference/get_gcv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract GCV Value ‚Äî get_gcv","text":"x Result mhp_filter (either data.table mhp object).","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/get_gcv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract GCV Value ‚Äî get_gcv","text":"Numeric. GCV value optimal lambda.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/get_gcv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract GCV Value ‚Äî get_gcv","text":"","code":"set.seed(123) result <- mhp_filter(cumsum(rnorm(100)), max_lambda = 10000) get_gcv(result) #> [1] 1.346882  # With mhp object result_obj <- mhp_filter(cumsum(rnorm(100)), max_lambda = 10000, as_dt = FALSE) get_gcv(result_obj) #> [1] 1.14044"},{"path":"https://myaseen208.com/mhpfilter/reference/get_lambda.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Optimal Lambda ‚Äî get_lambda","title":"Extract Optimal Lambda ‚Äî get_lambda","text":"Extract optimal smoothing parameter lambda Modified HP filter results.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/get_lambda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Optimal Lambda ‚Äî get_lambda","text":"","code":"get_lambda(x)"},{"path":"https://myaseen208.com/mhpfilter/reference/get_lambda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Optimal Lambda ‚Äî get_lambda","text":"x Result mhp_filter (either data.table mhp object).","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/get_lambda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Optimal Lambda ‚Äî get_lambda","text":"Integer. optimal lambda value.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/get_lambda.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Optimal Lambda ‚Äî get_lambda","text":"","code":"set.seed(123) result <- mhp_filter(cumsum(rnorm(100)), max_lambda = 10000) get_lambda(result) #> [1] 562  # With mhp object result_obj <- mhp_filter(cumsum(rnorm(100)), max_lambda = 10000, as_dt = FALSE) get_lambda(result_obj) #> [1] 896"},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"Decomposes time series trend cyclical components using standard HP filter fixed smoothing parameter lambda.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"","code":"hp_filter(x, lambda = 1600, as_dt = TRUE)"},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"x Numeric vector. time series decompose. lambda Numeric. smoothing parameter. Default 1600 (quarterly data). Common values: 1600 (quarterly), 100 (annual), 14400 (monthly). as_dt Logical. TRUE (default), returns data.table. FALSE, returns list.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"as_dt = TRUE: data.table columns: original input series trend estimated trend component cycle cyclical component attribute lambda (input lambda value). as_dt = FALSE: list containing original, trend, cycle, lambda.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"HP filter solves minimization problem: $$\\min_{\\{g_t\\}} \\left\\{ \\sum_{t=1}^T (y_t - g_t)^2 + \\lambda \\sum_{t=2}^{T-1} [(g_{t+1} - g_t) - (g_t - g_{t-1})]^2 \\right\\}$$ solution obtained solving: $$(+ \\lambda K'K)g = y$$ \\(K\\) second-difference matrix.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"Hodrick, R.J., & Prescott, E.C. (1997). Postwar US business cycles: empirical investigation. Journal Money, Credit Banking, 29(1), 1-16. Ravn, M.O., & Uhlig, H. (2002). adjusting Hodrick-Prescott filter frequency observations. Review Economics Statistics, 84(2), 371-376.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/hp_filter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standard Hodrick-Prescott Filter ‚Äî hp_filter","text":"","code":"# Example 1: Simple random walk with cycle set.seed(123) n <- 80 y <- cumsum(rnorm(n)) + sin((1:n) * pi / 10) result <- hp_filter(y, lambda = 1600) head(result) #>      original    trend       cycle #>         <num>    <num>       <num> #> 1: -0.2514587 1.569064 -1.82052292 #> 2: -0.2028679 1.633241 -1.83610898 #> 3:  1.5770722 1.696280 -0.11920792 #> 4:  1.7896201 1.755896  0.03372421 #> 5:  1.9678513 1.809729  0.15812277 #> 6:  3.6339728 1.855439  1.77853356  # Example 2: GDP-like series set.seed(456) gdp <- cumsum(rnorm(100, mean = 0.5, sd = 0.3)) + 2 * cos(2 * pi * (1:100) / 40) gdp_decomp <- hp_filter(gdp, lambda = 1600)  # Plot the decomposition if (require(ggplot2)) {   plot_data <- data.table::data.table(     t = 1:length(gdp),     Original = gdp,     Trend = gdp_decomp$trend,     Cycle = gdp_decomp$cycle   )   plot_data_long <- data.table::melt(plot_data, id.vars = \"t\")    ggplot2::ggplot(plot_data_long, ggplot2::aes(x = t, y = value, color = variable)) +     ggplot2::geom_line(linewidth = 0.8) +     ggplot2::facet_wrap(~variable, ncol = 1, scales = \"free_y\") +     ggplot2::labs(       title = \"HP Filter Decomposition (lambda = 1600)\",       x = \"Time\", y = \"Value\"     ) +     ggplot2::theme_minimal() +     ggplot2::theme(legend.position = \"none\") }"},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"Batch Modified HP Filter ‚Äî mhp_batch","title":"Batch Modified HP Filter ‚Äî mhp_batch","text":"Process multiple time series efficiently using Modified HP Filter. Optimized processing large collections time series (e.g., panel data).","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Batch Modified HP Filter ‚Äî mhp_batch","text":"","code":"mhp_batch(X, max_lambda = 100000L)"},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Batch Modified HP Filter ‚Äî mhp_batch","text":"X Matrix data.frame. column separate time series. Rows represent time periods, columns represent different series. max_lambda Integer. Maximum lambda value search. Default 100000.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_batch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Batch Modified HP Filter ‚Äî mhp_batch","text":"data.table long format columns: series Series identifier (column name V1, V2, ...) t Time index (1, 2, ..., T) original Original series values trend Estimated trend component cycle Cyclical component attribute \"lambdas\" containing data.table optimal lambdas GCV values series: series Series identifier lambda Optimal lambda series gcv GCV value optimal lambda","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_batch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Batch Modified HP Filter ‚Äî mhp_batch","text":"function efficiently processes multiple series : 1. Pre-computing \\(K'K\\) matrix series 2. Performing parallelizable grid search series 3. Using optimized C++ routines via RcppArmadillo","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_batch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Batch Modified HP Filter ‚Äî mhp_batch","text":"","code":"# Example 1: Multiple macroeconomic series set.seed(456) n_periods <- 60 n_countries <- 5 gdp_matrix <- matrix(nrow = n_periods, ncol = n_countries) colnames(gdp_matrix) <- c(\"USA\", \"UK\", \"Germany\", \"France\", \"Japan\")  # Generate series with different characteristics for (i in 1:n_countries) {   trend <- cumsum(rnorm(n_periods, mean = 0.5, sd = 0.3))   cycle <- rnorm(n_periods, sd = 1 + i * 0.2) # Increasing volatility   gdp_matrix[, i] <- trend + cycle }  # Apply batch Modified HP filter results <- mhp_batch(gdp_matrix, max_lambda = 10000)  # Extract optimal lambdas lambdas <- attr(results, \"lambdas\") print(lambdas) #>     series lambda      gcv #>     <char>  <int>    <num> #> 1:     USA   2385 1.294325 #> 2:      UK   2678 1.707017 #> 3: Germany  10000 1.775680 #> 4:  France   5393 3.038703 #> 5:   Japan   3065 3.196394  # Example 2: Sectoral data set.seed(789) n_time <- 120 n_sectors <- 8 sector_names <- c(   \"Agriculture\", \"Mining\", \"Manufacturing\", \"Construction\",   \"Trade\", \"Transport\", \"Finance\", \"Services\" ) sector_data <- matrix(rnorm(n_time * n_sectors), nrow = n_time)  # Add sector-specific trends and cycles for (i in 1:n_sectors) {   trend_growth <- runif(1, 0.2, 1.0)   cycle_amplitude <- runif(1, 0.5, 3.0)   sector_data[, i] <- cumsum(rnorm(n_time, mean = trend_growth / 4, sd = 0.3)) +     cycle_amplitude * sin(2 * pi * (1:n_time) / (20 + i * 5)) } colnames(sector_data) <- sector_names  sector_results <- mhp_batch(sector_data, max_lambda = 50000)  # View results for first few periods head(sector_results) #>         series     t  original    trend        cycle #>         <char> <int>     <num>    <num>        <num> #> 1: Agriculture     1 0.6635266 1.127298 -0.463771849 #> 2: Agriculture     2 1.2963652 1.484541 -0.188175872 #> 3: Agriculture     3 1.6167897 1.825792 -0.209001765 #> 4: Agriculture     4 2.1350412 2.128569  0.006472319 #> 5: Agriculture     5 2.5815389 2.363185  0.218353706 #> 6: Agriculture     6 3.1001873 2.500176  0.600011407"},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_compare.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","title":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","text":"Compare standard HP filter Modified HP filter single series. Provides summary statistics methods including cycle properties.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_compare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","text":"","code":"mhp_compare(x, frequency = c(\"quarterly\", \"annual\"), max_lambda = 100000L)"},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_compare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","text":"x Numeric vector. time series analyze. frequency Character. Data frequency: \"quarterly\" (lambda=1600) \"annual\" (lambda=100). max_lambda Integer. Maximum lambda Modified HP search. Default 100000.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_compare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","text":"data.table comparison statistics methods: method \"HP\" \"Modified HP\" lambda Smoothing parameter used cycle_sd Standard deviation cyclical component cycle_mean Mean cyclical component ar1 First-order autocorrelation cyclical component cycle_range Range cyclical component (max - min) gcv GCV value (NA standard HP)","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_compare.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","text":"comparison includes: 1. Standard HP filter fixed lambda (1600 quarterly, 100 annual) 2. Modified HP filter GCV-optimized lambda Statistics calculated cyclical component help assess filter performance: - Lower cycle SD suggests smoother trend - AR(1) near 0 suggests successful cycle extraction - Near-zero mean suggests proper centering","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_compare.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare HP vs Modified HP Filter ‚Äî mhp_compare","text":"","code":"# Example 1: Quarterly GDP-like series set.seed(789) n <- 100 gdp <- cumsum(rnorm(n, mean = 0.7, sd = 0.5)) + 2 * cos(2 * pi * (1:n) / 32) comparison <- mhp_compare(gdp, frequency = \"quarterly\", max_lambda = 10000) print(comparison) #>         method lambda  cycle_sd    cycle_mean       ar1 cycle_range      gcv #>         <char>  <num>     <num>         <num>     <num>       <num>    <num> #> 1:          HP   1600 0.9492746  2.372129e-12 0.8547305    3.882929       NA #> 2: Modified HP    206 0.5323633 -3.261835e-13 0.6231910    2.408114 0.552981  # Example 2: Annual series set.seed(101) n_annual <- 50 annual_series <- cumsum(rnorm(n_annual, mean = 2.0, sd = 1.0)) +   3 * sin(2 * pi * (1:n_annual) / 10) annual_comparison <- mhp_compare(annual_series, frequency = \"annual\", max_lambda = 5000) print(annual_comparison) #>         method lambda cycle_sd    cycle_mean       ar1 cycle_range      gcv #>         <char>  <num>    <num>         <num>     <num>       <num>    <num> #> 1:          HP    100 2.130999 -2.198952e-13 0.7444730    7.759845       NA #> 2: Modified HP    956 2.441077  2.926424e-12 0.7834235    9.780873 6.450526  # Example 3: Visual comparison set.seed(2023) test_series <- cumsum(rnorm(120, mean = 0.5, sd = 0.4)) +   runif(1, 1, 3) * sin(2 * pi * (1:120) / 30)  comp_result <- mhp_compare(test_series, frequency = \"quarterly\", max_lambda = 20000)  if (require(ggplot2)) {   # Create visualization   hp_result <- hp_filter(test_series, lambda = 1600, as_dt = FALSE)   mhp_result <- mhp_filter(test_series, max_lambda = 20000, as_dt = FALSE)    plot_comparison(test_series, frequency = \"quarterly\", max_lambda = 20000) }"},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"Decomposes time series trend cyclical components using Modified HP Filter, automatically selects optimal smoothing parameter lambda via generalized cross-validation (GCV).","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"","code":"mhp_filter(x, max_lambda = 100000L, as_dt = TRUE)"},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"x Numeric vector. time series decompose. Must least 5 observations missing values. max_lambda Integer. Maximum lambda value search . Default 100000, covers macroeconomic applications. search ranges 1 `max_lambda`. as_dt Logical. TRUE (default), returns data.table. FALSE, returns list class \"mhp\".","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"as_dt = TRUE: data.table columns: original input series trend estimated trend component cycle cyclical component (original - trend) attributes lambda (optimal lambda) gcv (GCV value). as_dt = FALSE: list class \"mhp\" containing elements: original input series trend estimated trend component cycle cyclical component lambda Optimal smoothing parameter gcv Generalized cross-validation value","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"function performs grid search lambda values 1 `max_lambda` selects lambda minimizes GCV criterion. lambda, solves system: $$(+ \\lambda K'K)g = y$$ \\(K\\) second-difference matrix, \\(g\\) trend, \\(y\\) original series.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214.","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/reference/mhp_filter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Modified Hodrick-Prescott Filter ‚Äî mhp_filter","text":"","code":"# Simulate a trend + cycle series set.seed(42) n <- 100 trend <- cumsum(c(0, rnorm(n - 1, mean = 0.5, sd = 0.2))) cycle <- 2 * sin(2 * pi * (1:n) / 20) + rnorm(n, sd = 0.5) y <- trend + cycle  # Apply Modified HP filter result <- mhp_filter(y, max_lambda = 10000)  # Extract optimal lambda get_lambda(result) #> [1] 1381  # Extract GCV value get_gcv(result) #> [1] 1.523201  # Print summary print(result) #>        original     trend       cycle #>           <num>     <num>       <num> #>   1:  0.9446362  1.969950 -1.02531357 #>   2:  2.5502449  2.373443  0.17680216 #>   3:  3.3016616  2.776193  0.52546832 #>   4:  3.1343864  3.177587 -0.04320051 #>   5:  5.2846912  3.577390  1.70730135 #>   6:  4.5100303  3.975337  0.53469346 #>   7:  5.0908699  4.372399  0.71847111 #>   8:  5.1868260  4.769934  0.41689181 #>   9:  5.2603105  5.169821  0.09048911 #>  10:  5.7012329  5.574241  0.12699199 #>  11:  5.5361400  5.985439 -0.44929850 #>  12:  5.6674507  6.405752 -0.73830150 #>  13:  6.2488989  6.837194 -0.58829548 #>  14:  5.8902938  7.281243 -1.39094932 #>  15:  6.2272581  7.738950 -1.51169205 #>  16:  6.2200398  8.210360 -1.99032047 #>  17:  7.7706916  8.694424 -0.92373200 #>  18:  8.5911462  9.188649 -0.59750272 #>  19: 10.7246623  9.689876  1.03478597 #>  20:  9.3225993 10.194513 -0.87191374 #>  21: 11.4543422 10.699716  0.75462650 #>  22: 11.6351103 11.202010  0.43310081 #>  23: 12.2329068 11.698466  0.53444055 #>  24: 13.7801714 12.186471  1.59370027 #>  25: 14.0603226 12.663797  1.39652601 #>  26: 15.3388826 13.129369  2.20951379 #>  27: 15.2554916 13.583125  1.67236622 #>  28: 15.1688678 14.026604  1.14226407 #>  29: 14.0531956 14.462553 -0.40935695 #>  30: 14.4271460 14.894547 -0.46740123 #>  31: 14.8832452 15.325867 -0.44262185 #>  32: 15.1108508 15.759453 -0.64860198 #>  33: 14.7791058 16.197925 -1.41881878 #>  34: 15.4485176 16.643433 -1.19491547 #>  35: 16.2902588 17.097101 -0.80684264 #>  36: 17.1476198 17.559187 -0.41156768 #>  37: 16.3198123 18.029365 -1.70955267 #>  38: 17.5952811 18.507010 -0.91172852 #>  39: 19.1420451 18.990259  0.15178594 #>  40: 18.9416236 19.476591 -0.53496752 #>  41: 20.2755121 19.963593  0.31191923 #>  42: 21.3574295 20.448465  0.90896477 #>  43: 21.8268956 20.928632  0.89826321 #>  44: 22.9841048 21.402180  1.58192460 #>  45: 23.6442704 21.867843  1.77642770 #>  46: 23.5805152 22.325500  1.25501531 #>  47: 24.6466272 22.776318  1.87030890 #>  48: 23.7446957 23.222373  0.52232258 #>  49: 23.9998913 23.667094  0.33279759 #>  50: 24.3605839 24.114288  0.24629593 #>  51: 23.4970640 24.568005 -1.07094052 #>  52: 24.0117475 25.032470 -1.02072292 #>  53: 23.1570930 25.511137 -2.35404421 #>  54: 25.0475167 26.006717 -0.95920080 #>  55: 24.8578020 26.520219 -1.66241702 #>  56: 25.3765412 27.051955 -1.67541377 #>  57: 25.8307269 27.601035 -1.77030818 #>  58: 27.5242933 28.165356 -0.64106226 #>  59: 28.2035364 28.741531 -0.53799453 #>  60: 28.8563472 29.325711 -0.46936394 #>  61: 30.9419416 29.913657  1.02828444 #>  62: 31.1944306 30.500790  0.69364102 #>  63: 31.7258120 31.083274  0.64253808 #>  64: 33.2437504 31.657778  1.58597275 #>  65: 33.8586121 32.221434  1.63717828 #>  66: 34.5916427 32.772524  1.81911899 #>  67: 35.4892764 33.310514  2.17876219 #>  68: 34.4014253 33.836189  0.56523597 #>  69: 35.2752614 34.351911  0.92335051 #>  70: 35.1564970 34.860450  0.29604705 #>  71: 35.5879724 35.365246  0.22272625 #>  72: 34.7591402 35.869954 -1.11081332 #>  73: 35.3318381 36.378387 -1.04654939 #>  74: 34.3816252 36.893559 -2.51193364 #>  75: 36.3102910 37.417721 -1.10742988 #>  76: 36.3872717 37.951308 -1.56403596 #>  77: 36.7797731 38.493952 -1.71417856 #>  78: 37.2267567 39.044152 -1.81739577 #>  79: 39.4230547 39.599169 -0.17611413 #>  80: 40.2840260 40.154943  0.12908292 #>  81: 40.9373290 40.707290  0.23003879 #>  82: 42.3763127 41.252119  1.12419388 #>  83: 43.0025781 41.785504  1.21707419 #>  84: 44.2808030 42.304334  1.97646859 #>  85: 44.8174345 42.806381  2.01105363 #>  86: 44.6937249 43.290845  1.40288015 #>  87: 44.5035566 43.758384  0.74517272 #>  88: 45.5361578 44.210672  1.32548600 #>  89: 45.3687939 44.649922  0.71887194 #>  90: 44.7421776 45.079307 -0.33712964 #>  91: 44.4093574 45.502521 -1.09316375 #>  92: 45.5300175 45.923013 -0.39299574 #>  93: 45.2172960 46.343441 -1.12614545 #>  94: 45.8621365 46.766179 -0.90404245 #>  95: 45.7691645 47.192784 -1.42361911 #>  96: 46.3123097 47.624159 -1.31184902 #>  97: 47.9467029 48.060177 -0.11347374 #>  98: 48.3218187 48.499760 -0.17794105 #>  99: 49.1788687 48.941748  0.23712042 #> 100: 50.9272697 49.384854  1.54241593 #>        original     trend       cycle #>           <num>     <num>       <num>  # Plot with ggplot2 if (require(ggplot2)) {   autoplot(mhp_filter(y, max_lambda = 10000, as_dt = FALSE)) }"},{"path":"https://myaseen208.com/mhpfilter/reference/mhpfilter-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mhpfilter: Fast Modified Hodrick-Prescott Filter ‚Äî mhpfilter-package","title":"mhpfilter: Fast Modified Hodrick-Prescott Filter ‚Äî mhpfilter-package","text":"High-performance implementation Modified HP Filter decomposing time series trend cyclical components. Based methodology Choudhary, Hanif & Iqbal (2014) uses generalized cross-validation automatically select optimal smoothing parameter lambda.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhpfilter-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"mhpfilter: Fast Modified Hodrick-Prescott Filter ‚Äî mhpfilter-package","text":"standard Hodrick-Prescott (1997) filter decomposes time series \\(y_t\\) trend \\(g_t\\) cycle \\(c_t\\) components minimizing: $$\\sum_{t=1}^{T}(y_t - g_t)^2 + \\lambda \\sum_{t=1}^{T-2}[(g_{t+2} - g_{t+1}) - (g_{t+1} - g_t)]^2$$ \\(\\lambda\\) smoothing parameter controls trade-trend smoothness cycle fit. Modified HP Filter (McDermott, 1997) selects \\(\\lambda\\) optimally using generalized cross-validation (GCV). GCV criterion : $$GCV(\\lambda) = \\frac{SSR(\\lambda)}{T} \\left[ 1 + \\frac{2}{T\\lambda} \\right]$$ \\(SSR(\\lambda)\\) sum squared residuals. optimal \\(\\lambda\\) minimizes GCV criterion.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhpfilter-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"mhpfilter: Fast Modified Hodrick-Prescott Filter ‚Äî mhpfilter-package","text":"mhp_filter: Apply Modified HP filter single series hp_filter: Apply standard HP filter fixed lambda mhp_batch: Batch process multiple series efficiently mhp_compare: Compare HP vs Modified HP single series batch_compare: Compare HP vs Modified HP multiple series autoplot.mhp: ggplot2 visualization mhp objects plot_comparison: Compare HP Modified HP visually plot_batch: Visualize batch processing results get_lambda: Extract optimal lambda results get_gcv: Extract GCV value results","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/mhpfilter-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"mhpfilter: Fast Modified Hodrick-Prescott Filter ‚Äî mhpfilter-package","text":"Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). smoothing macroeconomic time series using modified HP filter. Applied Economics, 46(19), 2205-2214. Hodrick, R.J., & Prescott, E.C. (1997). Postwar US business cycles: empirical investigation. Journal Money, Credit Banking, 29(1), 1-16. McDermott, C.J. (1997). Note modified Hodrick-Prescott filter. IMF Working Paper . 97/108.","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/reference/mhpfilter-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mhpfilter: Fast Modified Hodrick-Prescott Filter ‚Äî mhpfilter-package","text":"Maintainer: Muhammad Yaseen myaseen208@gmail.com (ORCID) contributors: Javed Iqbal Javed.iqbal6@sbp.org.pk (Original methodology author) [contributor] M. Nadim Hanif Nadeem.hanif@sbp.org.pk (Original methodology author) [contributor]","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Batch Results ‚Äî plot_batch","title":"Plot Batch Results ‚Äî plot_batch","text":"Create ggplot2 visualization batch filter results. Useful comparing multiple series' cyclical components trends.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Batch Results ‚Äî plot_batch","text":"","code":"plot_batch(x, show = c(\"cycle\", \"trend\"), facet = TRUE, highlight = NULL)"},{"path":"https://myaseen208.com/mhpfilter/reference/plot_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Batch Results ‚Äî plot_batch","text":"x Result mhp_batch. show Character. show: \"cycle\" (default) \"trend\". facet Logical. TRUE, use faceting; FALSE, overlay series. highlight Character vector. Names series highlight (others shown faintly).","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_batch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Batch Results ‚Äî plot_batch","text":"ggplot object.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_batch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Batch Results ‚Äî plot_batch","text":"Creates visualizations batch processing results: - Cycle plot: Shows business cycle components across series - Trend plot: Shows trend components across series Options faceting overlay, highlighting capability.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_batch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Batch Results ‚Äî plot_batch","text":"","code":"set.seed(456) # Create multi-country dataset n_time <- 80 countries <- c(\"USA\", \"UK\", \"Germany\", \"France\", \"Japan\", \"Canada\") gdp_data <- matrix(nrow = n_time, ncol = length(countries))  for (i in seq_along(countries)) {   # Different growth rates and cycle patterns   growth <- runif(1, 0.3, 1.0)   cycle_freq <- 20 + runif(1, -5, 15)   cycle_amp <- runif(1, 0.5, 2.5)    gdp_data[, i] <- 100 + cumsum(rnorm(n_time, mean = growth / 100, sd = 0.4 / 100)) +     cycle_amp * sin(2 * pi * (1:n_time) / cycle_freq) } colnames(gdp_data) <- countries  results <- mhp_batch(gdp_data, max_lambda = 10000)  if (require(ggplot2)) {   # Show cycles with faceting   plot_batch(results, show = \"cycle\", facet = TRUE)    # Show trends overlaid   plot_batch(results, show = \"trend\", facet = FALSE)    # Highlight specific countries   plot_batch(results, show = \"cycle\", facet = FALSE, highlight = c(\"USA\", \"Germany\"))    # Customized plot   p <- plot_batch(results, show = \"cycle\", facet = TRUE)   p <- p +     ggplot2::labs(       title = \"Business Cycle Components: Selected Countries\",       subtitle = \"Modified HP Filter Decomposition\"     ) +     ggplot2::theme(       strip.text = ggplot2::element_text(face = \"bold\", size = 9),       axis.text.x = ggplot2::element_text(angle = 45, hjust = 1)     )   print(p) } #> Warning: Duplicated aesthetics after name standardisation: linewidth #> Warning: Duplicated aesthetics after name standardisation: linewidth"},{"path":"https://myaseen208.com/mhpfilter/reference/plot_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","title":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","text":"Create ggplot2 comparison HP Modified HP filter trends. Useful visualizing differences fixed optimized smoothing.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","text":"","code":"plot_comparison(   x,   frequency = c(\"quarterly\", \"annual\"),   max_lambda = 100000L,   show_cycle = FALSE )"},{"path":"https://myaseen208.com/mhpfilter/reference/plot_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","text":"x Numeric vector. time series. frequency Character. Data frequency: \"quarterly\" \"annual\". max_lambda Integer. Maximum lambda Modified HP search. show_cycle Logical. TRUE, also show cyclical components.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","text":"ggplot object.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_comparison.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","text":"Creates comparison plots showing: 1. Original series HP Modified HP trends overlaid 2. (Optional) Cyclical components methods plot uses distinct colors line styles differentiate methods, annotations showing lambda values.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/plot_comparison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Comparison of HP vs Modified HP ‚Äî plot_comparison","text":"","code":"set.seed(123) # Simulate realistic economic data n <- 100 base_level <- 100 growth_rate <- 0.5 volatility <- 1.2  y <- base_level + cumsum(rnorm(n, mean = growth_rate / 100, sd = volatility / 100)) +   2.5 * sin(2 * pi * (1:n) / 25) + rnorm(n, sd = 0.5)  if (require(ggplot2)) {   # Basic comparison   plot_comparison(y, frequency = \"quarterly\", max_lambda = 10000)    # With cycles   plot_comparison(y, frequency = \"quarterly\", max_lambda = 10000, show_cycle = TRUE)    # Customized plot   p <- plot_comparison(y, frequency = \"quarterly\", max_lambda = 10000)   p <- p +     ggplot2::labs(       title = \"HP vs Modified HP: Trend Comparison\",       subtitle = \"Quarterly macroeconomic series\"     ) +     ggplot2::theme(       plot.title = ggplot2::element_text(face = \"bold\", size = 14),       legend.title = ggplot2::element_blank(),       legend.position = \"bottom\"     )   print(p) }"},{"path":"https://myaseen208.com/mhpfilter/reference/print.mhp.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for mhp Objects ‚Äî print.mhp","title":"Print Method for mhp Objects ‚Äî print.mhp","text":"Print summary Modified HP filter results.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/print.mhp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for mhp Objects ‚Äî print.mhp","text":"","code":"# S3 method for class 'mhp' print(x, ...)"},{"path":"https://myaseen208.com/mhpfilter/reference/print.mhp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for mhp Objects ‚Äî print.mhp","text":"x object class \"mhp\" mhp_filter(as_dt = FALSE). ... Additional arguments (ignored).","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/print.mhp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for mhp Objects ‚Äî print.mhp","text":"Invisibly returns input object.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/print.mhp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Print Method for mhp Objects ‚Äî print.mhp","text":"Prints formatted summary including: - Number observations - Optimal lambda value - GCV criterion value - Cycle statistics (mean, SD, AR1) Suitable quick inspection filter results.","code":""},{"path":"https://myaseen208.com/mhpfilter/reference/print.mhp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print Method for mhp Objects ‚Äî print.mhp","text":"","code":"set.seed(42) y <- cumsum(rnorm(100)) + sin((1:100) * pi / 20) result <- mhp_filter(y, max_lambda = 10000, as_dt = FALSE) print(result) #> Modified HP Filter Result #> ==============================  #> Observations: 100  #> Optimal lambda: 592  #> GCV: 2.317e+00  #>  #> Cycle Statistics: #>   Mean: -3.858e-14  #>   SD:   1.323  #>   AR1:  0.7203  #>   Range: 6.537"},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"initial-cran-release-0-1-0","dir":"Changelog","previous_headings":"","what":"Initial CRAN Release (2026-02-06)","title":"mhpfilter 0.1.0","text":"first official release mhpfilter CRAN.","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"overview-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"Overview","title":"mhpfilter 0.1.0","text":"mhpfilter implements Modified Hodrick-Prescott (HP) Filter decomposing macroeconomic time series trend cyclical components. package automatically selects optimal smoothing parameter Œª using generalized cross-validation (GCV), based methodology Choudhary, Hanif & Iqbal (2014).","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"filtering-functions-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Core Features","what":"Filtering Functions","title":"mhpfilter 0.1.0","text":"mhp_filter() - Modified HP filter automatic Œª selection via GCV hp_filter() - Standard HP filter fixed Œª parameter mhp_compare() - Compare HP vs Modified HP single series mhp_batch() - Batch processing multiple time series batch_compare() - Batch comparison HP vs Modified HP","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"visualization-functions-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Core Features","what":"Visualization Functions","title":"mhpfilter 0.1.0","text":"autoplot.mhp() - ggplot2-based visualization mhp objects plot_comparison() - Visual comparison HP vs Modified HP results plot_batch() - Visualization batch processing results","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"utility-functions-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Core Features","what":"Utility Functions","title":"mhpfilter 0.1.0","text":"get_lambda() - Extract optimal Œª results get_gcv() - Extract GCV value results print.mhp() - Print method mhp class objects","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"high-performance-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Technical Implementation","what":"High Performance","title":"mhpfilter 0.1.0","text":"Fast C++ implementation using RcppArmadillo matrix operations Optimized grid search algorithm Œª selection Efficient memory management large time series Linear scaling batch processing multiple series","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"modern-r-integration-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Technical Implementation","what":"Modern R Integration","title":"mhpfilter 0.1.0","text":"Full compatibility data.table (‚â• 1.14.0) Integration collapse (‚â• 2.0.0) fast statistics Support kit (‚â• 0.0.11) utilities Works seamlessly tidyverse (‚â• 2.0.0) fastverse (‚â• 0.3.0) ggplot2-based professional visualizations","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"comprehensive-vignettes-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Documentation","what":"Comprehensive Vignettes","title":"mhpfilter 0.1.0","text":"Basic usage workflow Comparison standard HP filter Real-world applications Standard HP filter formulation Generalized cross-validation criterion Optimal Œª selection procedure Performance characteristics","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"function-documentation-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Documentation","what":"Function Documentation","title":"mhpfilter 0.1.0","text":"Complete roxygen2 documentation functions Mathematical formulas properly rendered LaTeX Extensive examples commentary Author affiliations ORCID identifiers","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"package-website-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Documentation","what":"Package Website","title":"mhpfilter 0.1.0","text":"Professional pkgdown site full documentation Download statistics badges Interactive examples tutorials API reference search functionality","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"methodology-reference-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"Methodology Reference","title":"mhpfilter 0.1.0","text":"implementation based : Choudhary, M.., Hanif, M.N., & Iqbal, J. (2014). ‚Äúsmoothing macroeconomic time series using modified HP filter.‚Äù Applied Economics, 46(19), 2205-2214. https://doi.org/10.1080/00036846.2014.896982","code":""},{"path":[]},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"package-author-and-maintainer-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Authors and Contributors","what":"Package Author and Maintainer","title":"mhpfilter 0.1.0","text":"Muhammad Yaseen Postdoctoral Research Fellow School Mathematical Statistical Sciences Clemson University","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"original-methodology-authors-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06) > Authors and Contributors","what":"Original Methodology Authors","title":"mhpfilter 0.1.0","text":"Javed Iqbal - State Bank PakistanM. Nadim Hanif - State Bank Pakistan","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"installation-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"Installation","title":"mhpfilter 0.1.0","text":"","code":"# From CRAN (recommended) install.packages(\"mhpfilter\")  # From GitHub (development version) devtools::install_github(\"myaseen208/mhpfilter\")"},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"system-requirements-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"System Requirements","title":"mhpfilter 0.1.0","text":"R ‚â• 4.0.0 C++ compiler building source Operating systems: Windows, macOS, Linux","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"testing-and-quality-assurance-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"Testing and Quality Assurance","title":"mhpfilter 0.1.0","text":"Comprehensive test suite testthat (‚â• 3.0.0) Continuous integration via GitHub Actions R CMD check passes platforms CRAN policy compliance verified NOTEs, WARNINGs, ERRORs","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"license-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"License","title":"mhpfilter 0.1.0","text":"MIT License","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"bug-reports-and-issues-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"Bug Reports and Issues","title":"mhpfilter 0.1.0","text":"Please report bugs : https://github.com/myaseen208/mhpfilter/issues","code":""},{"path":"https://myaseen208.com/mhpfilter/news/index.html","id":"acknowledgments-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release (2026-02-06)","what":"Acknowledgments","title":"mhpfilter 0.1.0","text":"Original methodology: Choudhary, Hanif & Iqbal (2014) RcppArmadillo team excellent C++ integration R Core Team R statistical computing environment CRAN team review hosting information, visit: https://github.com/myaseen208/mhpfilter","code":""}]
